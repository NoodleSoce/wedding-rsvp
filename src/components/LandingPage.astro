---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import heroImg from "../assets/hero-image.webp";
import { ui } from "../i18n/ui";

interface Props {
    lang: "en" | "ar";
}

const { lang } = Astro.props;
const t = ui[lang];
const rsvpLink = lang === "ar" ? "/ar/rsvp" : "/rsvp";
---

<Layout title={lang === "ar" ? "الرئيسية" : "Welcome"} lang={lang}>
    <main class="page fade-in">
        <div class="page-content">
            <h1 class="title anim anim-1">{t["index.title"]}</h1>
            <p class="subtitle anim anim-2">{t["index.subtitle"]}</p>

            <div class="hero anim anim-3">
                <Image
                    src={heroImg}
                    alt="Zaid & Haya"
                    width={600}
                    densities={[1.5, 2]}
                    loading="eager"
                    fetchpriority="high"
                />
            </div>

            <a href={rsvpLink} class="btn cta anim anim-4" data-astro-prefetch>
                {t["index.cta"]}
            </a>
        </div>
    </main>
</Layout>

<style>
    /* Content distributed with space between */
    .page-content {
        justify-content: space-evenly;
        gap: var(--s-4);
        padding: var(--s-4) 0;
    }

    .title {
        font-size: var(--fs-2xl);
        font-style: italic;
    }

    .subtitle {
        font-size: var(--fs-base);
        color: var(--c-white-80);
        font-weight: 300;
    }

    /* Hero fills more space */
    .hero {
        width: 100%;
        max-width: 280px;
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: var(--shadow);
        flex-shrink: 0;
    }

    @media (min-width: 480px) {
        .hero {
            max-width: 320px;
        }
    }

    .hero :global(img) {
        width: 100%;
        height: auto;
        display: block;
    }

    .cta {
        max-width: 280px;
        flex-shrink: 0;
    }

    @media (min-width: 480px) {
        .cta {
            max-width: 300px;
        }
    }
</style>
